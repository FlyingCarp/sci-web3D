# Poros SciWebD 前端协作规范

## 项目背景

这是一个科研数据可视化平台，基于 React + TypeScript + Three.js 构建。项目需要两人协作：

- **你（前端工程师）**：负责页面框架、布局、样式、响应式、交互动画
- **我（架构/3D开发）**：负责 3D 可视化、数据流、后端对接、功能规划

---

## 目录结构与分工

```
src/
├── 3d/                    # ⚠️ 只读参考 - 3D 核心代码
│   └── SceneManager.tsx   # 可以 import，但不要修改内部逻辑
│
├── components/
│   └── ui/                # ✅ 你的领地 - 通用 UI 组件
│       ├── Button/
│       ├── Card/
│       └── Placeholder3D/
│
├── layouts/               # ✅ 你的领地 - 布局组件
│   ├── MainLayout.tsx
│   ├── Header.tsx
│   └── Sidebar.tsx
│
├── pages/                 # ✅ 你可以创建和编辑页面
│   ├── LandingPage.tsx
│   ├── NetworkVisPage.tsx
│   └── ...
│
├── store/                 # ❌ 不要动 - 状态管理
├── services/              # ❌ 不要动 - API 层
├── types/                 # ❌ 不要动 - 类型定义
└── utils/                 # ❌ 不要动 - 工具函数
```

---

## 协作流程

### 场景 A：创建包含 3D 可视化的新页面

```
步骤 1: 我开发好 3D 组件，确保独立可用
步骤 2: 我告诉你：页面需求、风格参考、3D 组件如何引入
步骤 3: 你创建页面文件，做布局，直接引入我的 3D 组件
步骤 4: 你完成后通知我
步骤 5: 我配置路由，检查数据流是否正常
```

### 场景 B：创建纯 UI 页面（如登录页、用户主页）

```
步骤 1: 我告诉你页面需求和风格参考
步骤 2: 你创建页面并完成全部布局
步骤 3: 我配置路由和表单逻辑
```

---

## 3D 组件引入方式

当我的 3D 组件开发完成后，你可以直接引入使用：

```tsx
// 引入 3D 组件
import SceneManager from '../3d/SceneManager';

// 在页面中使用
const SomeVisualizationPage = () => {
  return (
    <MainLayout>
      <div className="flex h-screen">
        <Sidebar />
        <main className="flex-1 relative">
          {/* 直接使用 3D 组件 */}
          <SceneManager />
        </main>
      </div>
    </MainLayout>
  );
};
```

### 当前可用的 3D 组件

| 组件名 | 路径 | 使用方式 | 说明 |
|--------|------|----------|------|
| SceneManager | `src/3d/SceneManager.tsx` | `<SceneManager />` | 材料网络 3D 图，内部自动获取数据，需要全屏或指定高度容器 |

> 我会在开发新的 3D 组件后更新这个表格

---

## 占位符使用方法

**什么时候用占位符？** 当 3D 组件还没开发好，但你需要先做页面布局时。

```tsx
import { Placeholder3D } from '../components/ui/Placeholder3D';

// 在需要放 3D 可视化的地方
<Placeholder3D label="等待 XXX 组件" className="h-[500px]" />
```

占位符会显示为一个带虚线边框的灰色区域，标注这里将来放什么内容。

---

## 示例代码

### 示例 1：引入已有的 3D 组件

```tsx
// pages/MaterialsPage.tsx
import { MainLayout } from '../layouts/MainLayout';
import SceneManager from '../3d/SceneManager';

const MaterialsPage = () => {
  return (
    <MainLayout>
      <div className="w-full h-screen relative">
        {/* 直接使用 3D 组件 */}
        <SceneManager />
        
        {/* 你可以添加覆盖层 UI */}
        <div className="absolute top-4 left-4 z-10">
          <h1 className="text-white text-2xl">Materials Network</h1>
        </div>
      </div>
    </MainLayout>
  );
};

export default MaterialsPage;
```

### 示例 2：3D 组件还没好，用占位符

```tsx
// pages/UserProfilePage.tsx
import { MainLayout } from '../layouts/MainLayout';
import { Placeholder3D } from '../components/ui/Placeholder3D';
import { UserInfoCard } from '../components/ui/UserInfoCard';

const UserProfilePage = () => {
  return (
    <MainLayout>
      <div className="grid grid-cols-3 gap-4 p-6">
        {/* 左侧用户信息卡片 - 你完成 */}
        <div className="col-span-1">
          <UserInfoCard name="张三" email="test@example.com" />
        </div>
        
        {/* 右侧 3D 区域 - 组件还没好，用占位符 */}
        <div className="col-span-2">
          <Placeholder3D label="用户实验数据 3D 图" className="h-full" />
        </div>
      </div>
    </MainLayout>
  );
};

export default UserProfilePage;
```

---

## 你的主要工作内容

| 任务类型 | 具体内容 |
|----------|----------|
| **全局布局** | Header、Sidebar、Footer 的样式和交互 |
| **页面框架** | 页面的整体 HTML 结构、CSS 排版 |
| **响应式** | 确保 1080P、2K、iPad、手机都不崩坏 |
| **交互动画** | 按钮 Hover、卡片点击、页面切换动画 |
| **状态展示** | Loading 骨架屏、空数据状态、错误页面 |
| **通用组件** | Button、Card、Input、Modal 等 |

---

## 设计系统（Tailwind CSS）

### 品牌色

```css
/* 主色 - 用于按钮、链接、强调 */
bg-brand-primary      /* #6366f1 indigo */
text-brand-primary

/* 科技蓝 - 用于图标、边框高亮 */
text-brand-secondary  /* #64c8ff */
border-brand-secondary

/* 面板背景 - 毛玻璃效果 */
bg-brand-surface      /* rgba(10, 20, 30, 0.85) */

/* 边框 */
border-brand-border   /* rgba(100, 200, 255, 0.3) */
```

### 风格参考

- **整体风格**：深色科技感，参考当前首页 LandingPage
- **背景**：深蓝黑色 `bg-slate-950`
- **文字**：白色 `text-slate-100`，次要文字 `text-slate-400`
- **卡片**：半透明 + 模糊背景 `backdrop-blur-md`
- **边框**：细微发光边框

---



## 常见问题

### Q: 我能直接修改 pages/ 下的文件吗？
A: **可以**。你可以创建新页面，也可以修改现有页面的布局和样式。

### Q: 遇到需要数据的地方怎么办？
A: 先用 Mock 数据，比如：
```tsx
const mockUser = { name: "测试用户", email: "test@test.com" };
```


### Q: 路由谁来配置？
A: **我来配置**。你创建好页面后告诉我，我会在 `App.tsx` 中添加路由。

### Q: 不确定某个功能归谁做？
A: 直接问我。

---

## 快速开始

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 项目会在 http://localhost:5173 运行
```

## 第二版协作规范，先按这个方式协作，有问题及时沟通
